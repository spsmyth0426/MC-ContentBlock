<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>CB Custom Attributes</title>

    <link rel="stylesheet" type="text/css" href="/assets/styles/salesforce-lightning-design-system.css" />
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script data-main="js/main.js" src="js/main.js"></script>
    <script data-main="js/blocksdk.js" src="js/blocksdk.js"></script>
    <script type="text/javascript">
        
        console.log( "ready!" );
        var sdk = new SDK();
        console.log("SDK: "+ sdk);        
                
       
    </script>

    <!--Styles-->
    <style type="text/css">
        body {
            padding: 20px;
            margin: 0;
        }
        .step {
            display: none;
        }
        #step1 {
            display: block;
        }
    </style>

</head>
<body>
    <div id="step1" class="step">
        <div class="slds-form slds-form_compound">
            <div class="slds-form-element">
                <label class="slds-form-element__label" for="input-id-01">2Data Extension External Key</label>
                <div class="slds-form-element__control">
                <input type="text" id="deExternalKey" name="deExternalKey" class="slds-input" placeholder="Data Extension External Key" />
                </div>
            </div>
            <br>
            <fieldset class="slds-form-element">
                <legend class="slds-form-element__label slds-form-element__legend slds-text-title_caps">Values</legend>
                <div class="slds-form-element__group">
                    <div class="slds-form-element__row">
                    <div class="slds-form-element slds-size_1-of-2">
                        <label class="slds-form-element__label" for="colName-01">Column Name</label>
                        <input type="text" id="input-01" class="slds-input" />
                    </div>
                    <div class="slds-form-element slds-size_1-of-2">
                        <label class="slds-form-element__label" for="colValue-02">Column Value</label>
                        <input type="text" id="input-02" class="slds-input" />
                    </div>
                    </div>
                </div>
            </fieldset>
            <fieldset class="slds-form-element">
                    <div class="slds-form-element__group">
                        <div class="slds-form-element__row">
                        <div class="slds-form-element slds-size_1-of-2">
                            <label class="slds-form-element__label" for="colName-01">Column Name</label>
                            <input type="text" id="input-01" class="slds-input" />
                        </div>
                        <div class="slds-form-element slds-size_1-of-2">
                            <label class="slds-form-element__label" for="colValue-02">Column Value</label>
                            <input type="text" id="input-02" class="slds-input" />
                        </div>
                        </div>
                    </div>
                </fieldset>
                <!-- <div class="slds-form-element">
                  <label class="slds-form-element__label" for="input-id-02">Textarea Label</label>
                  <div class="slds-form-element__control">
                    <textarea id="input-id-02" class="slds-textarea" placeholder="Placeholder Text"></textarea>
                  </div>
                </div>
                <fieldset class="slds-form-element">
                  <legend class="slds-form-element__legend slds-form-element__label">Checkbox Group label</legend>
                  <div class="slds-form-element__control">
                    <span class="slds-checkbox">
                      <input type="checkbox" name="default" id="checkbox-21" value="checkbox-21" />
                      <label class="slds-checkbox__label" for="checkbox-21">
                        <span class="slds-checkbox_faux"></span>
                        <span class="slds-form-element__label">All opportunities owned by you</span>
                      </label>
                    </span>
                    <span class="slds-checkbox">
                      <input type="checkbox" name="default" id="checkbox-22" value="checkbox-22" />
                      <label class="slds-checkbox__label" for="checkbox-22">
                        <span class="slds-checkbox_faux"></span>
                        <span class="slds-form-element__label">All contacts in the account owned by you</span>
                      </label>
                    </span>
                  </div>
                </fieldset>
                <fieldset class="slds-form-element">
                  <legend class="slds-form-element__legend slds-form-element__label">Checkbox Group label</legend>
                  <div class="slds-form-element__control">
                    <span class="slds-radio">
                      <input type="radio" id="radio-15" value="radio-15" name="options" />
                      <label class="slds-radio__label" for="radio-15">
                        <span class="slds-radio_faux"></span>
                        <span class="slds-form-element__label">Lead Generation</span>
                      </label>
                    </span>
                    <span class="slds-radio">
                      <input type="radio" id="radio-16" value="radio-16" name="options" />
                      <label class="slds-radio__label" for="radio-16">
                        <span class="slds-radio_faux"></span>
                        <span class="slds-form-element__label">Education Leads</span>
                      </label>
                    </span>
                  </div>
                </fieldset> -->
            </div>

</div>
<script type="text/javascript">
    sdk.setSuperContent('Placeholder for simple ampscript section.');

    var content = 'testtestetsetset';

    sdk.getData(function (data) {
        // set value from get
        $( "#deExternalKey" ).val(data);

        var numberOfEdits = data.numberOfEdits || 0;
        var name = 'name';
        var value = data.value || 0;
        console.log("Get data: "+JSON.stringify(data));
        sdk.setData({
            numberOfEdits: numberOfEdits + 1,
            name: 'name1',
            value: value + 1
        });
    });

    sdk.getContent(function (content) {
        content += '.';
        sdk.setContent(content, function (setContent) {
            console.log("Shane Content" + content);
        });
    });
    
$( "#deExternalKey" ).keyup(function() {
    sdk.setContent('Test content');
    console.log($( "#deExternalKey" ).val());
    //alert( "Handler for .keyup() called." );
});
</script>
</body>
</html>